(()=>{const e=document.getElementsByClassName("copy-to-clipboard");for(let t=0;t<e.length;t++){const o=e[t],a=o.querySelector("button"),r=o.classList.contains("not-logged-in"),c=o.getAttribute("data-ajax");a.addEventListener("click",(async()=>{const e=o.querySelector("textarea");let t="";var a;if(e&&(t=null!==(a=e?.textContent)&&void 0!==a?a:""),c){const e=JSON.parse(c.replace(/&quot;/g,'"'));e&&fetch(e.url,{method:e.method,credentials:"same-origin",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:new URLSearchParams(e)}).then((e=>e.text())).then((e=>{t=e,navigator.clipboard.writeText(t).then((()=>{o.classList.add("copied"),setTimeout((()=>{o.classList.remove("copied")}),1e3)}),(e=>{console.error(e)}))})).catch((e=>{console.error(e)}))}r?alert(t):t&&navigator.clipboard.writeText(t).then((()=>{o.classList.add("copied"),setTimeout((()=>{o.classList.remove("copied")}),1e3)}),(e=>{console.error(e)}))}))}})();